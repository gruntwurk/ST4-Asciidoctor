// SYNTAX TEST "Packages/Asciidoctor/Syntaxes/Asciidoctor.sublime-syntax"
= Custom Styling With Attributes

AsciiDoc Documentation reference:
https://docs.asciidoctor.org/asciidoc/latest/text/highlight/[Highlight^] and
https://docs.asciidoctor.org/asciidoc/latest/text/text-span-built-in-roles/[Text Span^].

[NOTE]
==============
Some of these examples are actually
https://docs.asciidoctor.org/asciidoc/latest/text/text-span-built-in-roles/#text-span-syntax[Text Spans^], rather than Highlight/Mark formatting.
But right now, our syntax treats thes alike, so we'll just keep them here for the time being.
==============


== Highlight/Mark Constrained

[.big.red]*Source*

[source,asciidoc]
--------------------------------------
Werewolves are #allergic to cinnamon#.
This is #highlighted# text.
--------------------------------------

[.big.red]*Result*

===============================================
Werewolves are #allergic to cinnamon#.
//             ^                        punctuation.definition.string.unquoted.single.begin
//                                  ^   punctuation.definition.string.unquoted.single.end
//              ^^^^^^^^^^^^^^^^^^^^    string.other.unquoted.single
//               ^^^^^^^^^^^^^^^^^^     string.unquoted.unquotedinner.single
This is #highlighted# text.
//      ^               punctuation.definition.string.unquoted.single.begin
//                  ^   punctuation.definition.string.unquoted.single.end
//       ^^^^^^^^^^^    string.other.unquoted.single
//        ^^^^^^^^^     string.unquoted.unquotedinner.single
===============================================

[.big.red]*Source*

[source,asciidoc]
----------------------------------------------
Do werewolves believe in [small]#small print#?
----------------------------------------------

[.big.red]*Result*

===============================================
Do werewolves believe in [small]#small print#?
//                       ^^^^^^^                support.variable.attributelist
//                              ^               punctuation.definition.string.unquoted.single.begin
//                                          ^   punctuation.definition.string.unquoted.single.end
//                               ^^^^^^^^^^^    string.other.unquoted.single
//                                ^^^^^^^^^     string.unquoted.unquotedinner.single
===============================================



== Highlight/Mark Unconstrained

[.big.red]*Source*

[source,asciidoc]
----------------------------
This is ##highlighted##text.
----------------------------

[.big.red]*Result*

===============================================
This is ##highlighted##text.
//      ^^               punctuation.definition.string.unquoted.double.begin
//                   ^^  punctuation.definition.string.unquoted.double.end
//      ^^^^^^^^^^^^^^^  string.other.unquoted.double
//        ^^^^^^^^^^^    string.unquoted.unquotedinner.double
===============================================

[.big.red]*Source*

[source,asciidoc]
------------------------------------
[big]##O##nce upon an infinite loop.
------------------------------------

[.big.red]*Result*

===============================================
[big]##O##nce upon an infinite loop.
//<-        support.variable.attributelist
//^^^       support.variable.attributelist
//   ^^     punctuation.definition.string.unquoted.double.begin
//      ^^  punctuation.definition.string.unquoted.double.end
//   ^^^^^  string.other.unquoted.double
//     ^    string.unquoted.unquotedinner.double

===============================================

== Multi-line

Mark and Span text can carry on across multiple lines:

=== Multi-line Constrained

[.big.red]*Source*

[source,asciidoc]
---------------------------
Werewolves are #allergic to
cinnamon#.
---------------------------

[.big.red]*Result*

===============================================
Werewolves are #allergic to
cinnamon#.
//      ^    punctuation.definition.string.unquoted.single.end
//^^^^^^^    string.other.unquoted.single
//^^^^^^     string.unquoted.unquotedinner.single
//       ^  -string.other.unquoted.single
//       ^  -string.unquoted.unquotedinner.single
===============================================

=== Multi-line Unconstrained

[.big.red]*Source*

[source,asciidoc]
---------------------------
Werewolves are ##allergic to
cinnamon##.
---------------------------

[.big.red]*Result*

===============================================
Werewolves are ##allergic to
cinnamon##.
//      ^^    punctuation.definition.string.unquoted.double.end
//^^^^^^^^    string.other.unquoted.double
//^^^^^^      string.unquoted.unquotedinner.double
//        ^  -string.other.unquoted.double
//        ^  -string.unquoted.unquotedinner.double
===============================================

== Multi-line Fail-safes

But if a blank line is found before matching the closing delimiter, then the syntax bails out to prevent breaking the whole document.

This mechanism is a fail-safe against false positive matches of literal `#` symbols as if they were a mark delimiter, which unfortunately still occur in the current syntax.

=== Multi-line Constrained w/ Blank Line

[.big.red]*Source*

[source,asciidoc]
---------------------------
Example #1 illustrates how
to achieve what described so far.

Lorem ipsum.
---------------------------

[.big.red]*Result*

===============================================
Example #1 illustrates how
to achieve what described so far.

// <- invalid.illegal
Lorem ipsum.
//^^^^^^^^^^  -string.other.unquoted.single
//^^^^^^^^^^  -string.unquoted.unquotedinner.single
===============================================

=== Multi-line Unconstrained w/ Blank Line

[.big.red]*Source*

[source,asciidoc]
---------------------------
Example ##1 illustrates how
to achieve what described so far.

Lorem ipsum.
---------------------------

[.big.red]*Result*

===============================================
Example ##1 illustrates how
to achieve what described so far.

// <- invalid.illegal
Lorem ipsum.
//^^^^^^^^^^  -string.other.unquoted
//^^^^^^^^^^  -string.unquoted.unquotedinner
===============================================


// EOF //
